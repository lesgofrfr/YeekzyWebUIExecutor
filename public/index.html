<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Yeekzy Executor v5</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Roboto+Mono&display=swap" rel="stylesheet">
  <style>
    body { background:#000; color:#0f0; font-family:'Roboto Mono',monospace; margin:0; padding:10px; }
    .container { max-width:95%; margin:auto; background:#111; padding:20px; border:2px solid #0f0; border-radius:15px; box-shadow:0 0 30px #0f0; }
    h1 { font-family:'Orbitron'; text-align:center; text-shadow:0 0 0 20px #0f0; }
    textarea { width:100%; height:45vh; background:#000; color:#0f0; border:2px solid #0f0; border-radius:10px; padding:12px; font-size:14px; box-sizing:border-box; }
    button { background:#0f0; color:#000; padding:15px; margin:10px 0; width:100%; font-size:18px; border:none; border-radius:10px; font-weight:bold; box-shadow:0 0 20px #0f0; }
    button:active { background:#0c0; }
    button.inject { background:#f0f !important; box-shadow:0 0 20px #f0f !important; }
    pre { background:#000; color:#0f0; padding:15px; border:2px solid #0f0; border-radius:10px; white-space:pre-wrap; margin-top:15px; }
    .error { border-color:#f00 !important; color:#f00 !important; }
  </style>
</head>
<body>
  <div class="container">
    <h1>YEEKZY EXECUTOR v5</h1>
    <form id="form">
      <textarea id="code" placeholder="print('Hello from Yeekzy v5')\nloadstring(game:HttpGet('https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source'))()">print("Yeekzy v5 works!</textarea>
      <button type="submit">EXECUTE</button>
      <button type="button" class="inject" onclick="inject()">INJECT (Download + Copy)</button>
      <button type="button" onclick="document.getElementById('code').value=''">CLEAR</button>
    </form>
    <pre id="output">Ready â€” paste script and press EXECUTE</pre>
  </div>

  <script>
    const form = document.getElementById('form');
    const codeBox = document.getElementById('code');
    const output = document.getElementById('output');

    // Load saved code
    codeBox.value = localStorage.getItem('yeekzy_code') || codeBox.value;
    codeBox.oninput = () => localStorage.setItem('yeekzy_code', codeBox.value);

    form.onsubmit = async e => {
      e.preventDefault();
      const code = codeBox.value;

      fetch('/execute', {
        method: 'POST',
        headers: {'Content-Type': 'application/x-www-form-urlencoded'},
        body: 'code=' + encodeURIComponent(code)
      })
      .then(r => r.text())
      .then(html => {
        // Extract result from server (simple way)
        const temp = document.createElement('div');
        temp.innerHTML = html;
        const newOutput = temp.querySelector('pre')?.innerText || 'No output';
        output.textContent = newOutput;
        output.className = newOutput.includes('Error') ? 'error' : '';
      });
    };

    function inject() {
      const code = codeBox.value;
      if (!code) return alert('Nothing to inject!');
      const blob = new Blob([code], {type:'text/plain'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url; a.download = 'yeekzy_v5.lua'; a.click();
      navigator.clipboard.writeText(code);
      alert('Injected! File downloaded + copied to clipboard');
    }
  </script>
</body>
</html>
